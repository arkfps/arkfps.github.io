---
layout: null
---


/* Inlined during post-processing. */
@import 'normalize.css';
@import 'syntax.css';
@import 'icons.css';

/* ----------------------------------------------------------------------------
Custom Properties
---------------------------------------------------------------------------- */

:root {
  /* Colour scheme. */
  --colour-main: {{ site.colours.main }};
  --colour-main-muted: rgba(172, 65, 66, .75);
  --colour-page-background: #e7d9cc;

  --colour-black: {{ site.colours.black }};
  --colour-black-muted: #737373;

  --colour-white: #fff;
  --colour-white-muted: rgba(255, 255, 255, .9);

  --colour-grey: #787878;
  --colour-grey-muted: #e0e0e0;

  --colour-brown: #895061;
  --colour-red: #cb4437;

  /* Typefaces. */
  --font-common-settings: 'kern', 'cpsp', 'liga', 'clig', 'calt', 'locl';
  --font-main: alegreya, serif;
  --font-secondary: alegreya-sans, sans-serif;

  /* Regular font size. */
  --frmin: 16;  /* minimum font size (for narrow viewport), px */
  --frmax: 22;  /* maximum font size (for wide viewport), px */
  --wfmin: 1000;  /* viewport width at minimum font size, px */
  --wfmax: 1375;  /* viewport width at maximum font size, px */
  --font-size-regular: calc(  /* map 100vw → font-size-regular */
    (100vw - var(--wfmin) * 1px) * (var(--frmax) - var(--frmin)) /
    (var(--wfmax) - var(--wfmin)) + var(--frmin) * 1px
  );

  /* Minimum and maximum type scale ratios. */
  --rmin: 1.125;  /* minimum type scale ratio (major second interval) */
  --rmax: 1.25;  /* maximum type scale ratio (major third interval) */
  --wrmin: 22.5;  /* viewport width at minimum type scale ratio, rem */
  --wrmax: 36;  /* viewport width at maximum type scale ratio, rem */

  /* Small font size. */
  --fsmin: calc(1 / var(--rmin));  /* rem */
  --fsmax: calc(1 / var(--rmax));  /* rem */
  --font-size-small: calc(
    (100vw - var(--wrmin) * 1rem) * (var(--fsmax) - var(--fsmin)) /
    (var(--wrmax) - var(--wrmin)) + var(--fsmin) * 1rem
  );

  /* Big font size. */
  --fbmin: calc(1 * var(--rmin));
  --fbmax: calc(1 * var(--rmax));
  --font-size-big: calc(
    (100vw - var(--wrmin) * 1rem) * (var(--fbmax) - var(--fbmin)) /
    (var(--wrmax) - var(--wrmin)) + var(--fbmin) * 1rem
  );

  /* Subhead font size. */
  --fshmin: calc(1 * var(--rmin) * var(--rmin));
  --fshmax: calc(1 * var(--rmax) * var(--rmax));
  --font-size-subhead: calc(
    (100vw - var(--wrmin) * 1rem) * (var(--fshmax) - var(--fshmin)) /
    (var(--wrmax) - var(--wrmin)) + var(--fshmin) * 1rem
  );

  /* Subhead2 font size. */
  --fsh2min: calc(1 * var(--rmin) * var(--rmin) * var(--rmin));
  --fsh2max: calc(1 * var(--rmax) * var(--rmax) * var(--rmax));
  --font-size-subhead2: calc(
    (100vw - var(--wrmin) * 1rem) * (var(--fsh2max) - var(--fsh2min)) /
    (var(--wrmax) - var(--wrmin)) + var(--fsh2min) * 1rem
  );

  /* Head font size. */
  --fhmin: calc(1 * var(--rmin) * var(--rmin) * var(--rmin) * var(--rmin));
  --fhmax: calc(1 * var(--rmax) * var(--rmax) * var(--rmax) * var(--rmax));
  --font-size-head: calc(
    (100vw - var(--wrmin) * 1rem) * (var(--fhmax) - var(--fhmin)) /
    (var(--wrmax) - var(--wrmin)) + var(--fhmin) * 1rem
  );

  /* Display font size. */
  --fdmin: calc(
    1 * var(--rmin) * var(--rmin) * var(--rmin) * var(--rmin) * var(--rmin)
  );
  --fdmax: calc(
    1 * var(--rmax) * var(--rmax) * var(--rmax) * var(--rmax) * var(--rmax)
  );
  --font-size-display: calc(
    (100vw - var(--wrmin) * 1rem) * (var(--fdmax) - var(--fdmin)) /
    (var(--wrmax) - var(--wrmin)) + var(--fdmin) * 1rem
  );

  /* Line height scale. */
  --line-height-ratio: 1.25;  /* major third scale */
  --line-height-extra-tight: 1;
  --line-height-tight: calc(
    var(--line-height-extra-tight) * var(--line-height-ratio)
  );
  --line-height-regular: calc(
    var(--line-height-tight) * var(--line-height-ratio)
  );

  /* Spacing. */
  --spacing-extra-tight: .15em;
  --spacing-tight: .3em;
  --spacing-regular-em: 1em;
  --spacing-regular-rem: 1rem;
  --spacing-loose: 1.5rem;
  --spacing-extra-loose-em: 2rem;
  --spacing-extra-loose-rem: 2rem;
  --spacing-loose-fluid: 4vw;

  /* Other. */
  --line-length: 33em;  /* approx. 66 characters line width */
  --border-radius: 5px;
  --transition-regular: 500ms cubic-bezier(.23, 1, .32, 1);
}

/* Minimum regular font size. */
@media screen and (max-width: 1000px) {
  :root { --font-size-regular: calc(var(--frmin) * 1px); }
}

/* Maximum regular font size. */
@media screen and (min-width: 1375px) {
  :root { --font-size-regular: calc(var(--frmax) * 1px); }
}

/* Type scale limits override for layout with sidebar. */
@media screen and (min-width: 36em) {
  :root {
    --wrmin: 42;  /* viewport width at minimum type scale ratio, rem */
    --wrmax: 78;  /* viewport width at maximum type scale ratio, rem */
  }
}

/* Minimum type scale font sizes. */
@media
  screen and (max-width: 22.5em),
  screen and (min-width: 36em) and (max-width: 42em) {
  :root {
    --font-size-small: calc(1rem / var(--rmin));
    --font-size-big: calc(1rem * var(--rmin));
    --font-size-subhead: calc(var(--font-size-big) * var(--rmin));
    --font-size-subhead2: calc(var(--font-size-subhead) * var(--rmin));
    --font-size-head: calc(var(--font-size-subhead2) * var(--rmin));
    --font-size-display: calc(var(--font-size-head) * var(--rmin));
  }
}

/* Maximum type scale font sizes. */
@media screen and (min-width: 78em) {
  :root {
    --font-size-small: calc(1rem / var(--rmax));
    --font-size-big: calc(1rem * var(--rmax));
    --font-size-subhead: calc(var(--font-size-big) * var(--rmax));
    --font-size-subhead2: calc(var(--font-size-subhead) * var(--rmax));
    --font-size-head: calc(var(--font-size-subhead2) * var(--rmax));
    --font-size-display: calc(var(--font-size-head) * var(--rmax));
  }
}

/* ----------------------------------------------------------------------------
Body
---------------------------------------------------------------------------- */

html {
  box-sizing: border-box;
  font-size: var(--font-size-regular);
  font-family: var(--font-main);
  font-feature-settings: var(--font-common-settings), 'onum', 'pnum';
  line-height: var(--line-height-regular);
}

*, *::before, *::after { box-sizing: inherit; }

body {
  background: var(--colour-page-background) url(/img/content-bg.jpg);
  color: var(--colour-black);
  overscroll-behavior: none;
}

/* ----------------------------------------------------------------------------
Layout
---------------------------------------------------------------------------- */

/* Layout with #site-header as site header. */
#site-header {
  margin: 0;
  padding: var(--spacing-extra-loose-rem) var(--spacing-loose-fluid);
}

#main-content {
  margin: 0 auto;
  padding: var(--spacing-extra-loose-rem) var(--spacing-loose-fluid);
}

/* Adjust padding for devices with non-rectangular screens (e.g., iPhone X). */
@supports(padding: max(1rem)) {
  #site-header, #main-content {
    padding:
      var(--spacing-extra-loose-rem)
      max(var(--spacing-loose-fluid), env(safe-area-inset-right))
      var(--spacing-extra-loose-rem)
      max(var(--spacing-loose-fluid), env(safe-area-inset-left));
  }
}

/* Layout with #site-header as static sidebar. */
@media screen and (min-width: 36em) {
  #site-header, #main-content { --sidebar-width: 33vw; }

  #site-header {
    padding: var(--spacing-loose-fluid) var(--spacing-regular-rem);
    width: var(--sidebar-width);

    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;

    overflow: auto;
    -webkit-overflow-scrolling: touch;  /* fix sidebar scrolling on iOS */
    will-change: transform;  /* optimize page repaint during scrolling */
    display: flex;  /* centre sidebar content by using margin:auto on child */
  }

  #main-content {
    margin-left: var(--sidebar-width);
    padding: var(--spacing-loose-fluid);

    /* Centre main content vertically and horizontally. */
    min-height: 100vh;
    display: flex;  /* centre main content by using margin:auto on child */
  }

  @supports(padding: max(1rem)) {
    #site-header {
      padding:
        var(--spacing-loose-fluid)
        max(var(--spacing-regular-rem), env(safe-area-inset-right))
        var(--spacing-loose-fluid)
        max(var(--spacing-regular-rem), env(safe-area-inset-left));
    }

    #main-content {
      padding:
        var(--spacing-loose-fluid)
        max(var(--spacing-loose-fluid), env(safe-area-inset-right))
        var(--spacing-loose-fluid)
        max(var(--spacing-loose-fluid), env(safe-area-inset-left));
    }
  }
}

/* ----------------------------------------------------------------------------
Site header
---------------------------------------------------------------------------- */

#site-header {
  background: url(/img/header-bg.jpg) center/cover no-repeat;
  text-align: center;
  font-feature-settings: var(--font-common-settings),
    'dlig', 'swsh', 'onum', 'pnum';
  font-size: var(--font-size-big);
  line-height: var(--line-height-tight);
  user-select: none;
}

@media screen and (min-width: 36em) {
  #site-header {
    background: url(/img/sidebar-bg.jpg) center/cover no-repeat;
  }

  /* Hide site tags for small height screens to prevent vertical overflow. */
  @media screen and (max-height: 414px) {
    #site-header .site-tags { display: none; }
  }
}

#site-header > div {
  margin: auto; /* centre content */
  /* Centre content in case of horizontal overflow. */
  min-width: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
}

#site-header > div > * {
  margin: 0 0 var(--spacing-loose);
  filter: drop-shadow(.1em .1em .1em black);
}

#site-header .site-title {
  margin: 0 0 .25em;
  font-size: var(--font-size-display);
  line-height: var(--line-height-extra-tight);
}

#site-header .site-tags-title {
  display: inline;
  color: var(--colour-white);
  font-size: 1em;
}

#site-header .site-tag { white-space: nowrap; }

#site-header .site-nav { line-height: var(--line-height-extra-tight); }

#site-header .nav-icon { transition: color var(--transition-regular); }

/* #site-header .nav-icon:active {} */

#site-header .nav-icon:hover {
  color: var(--colour-main);
  transition: color var(--transition-regular);
}

#site-header .site-legal {
  margin-bottom: 0;
  white-space: nowrap;
}

#site-header a { color: var(--colour-white); }

#site-header p {
  margin: 0;
  color: var(--colour-white);
}

#site-header small {
  color: var(--colour-white-muted);
  font-size: var(--font-size-small);
  line-height: var(--line-height-extra-tight);
}

/* ----------------------------------------------------------------------------
Man content
---------------------------------------------------------------------------- */

#main-content > div {
  margin: auto; /* centre content */
  min-width: 0;  /* prevents white-space:pre from breaking flex layout */
  max-width: var(--line-length);
}

/* ----------------------------------------------------------------------------
Forms
---------------------------------------------------------------------------- */

label, textarea, input, button {
  /* Consistent spacing for form elements. */
  display: block;
  line-height: var(--line-height-tight);
}

form > div {
  margin: 0 0 var(--spacing-regular-em);
  overflow: hidden;
  clear: both;
}

form > div:last-child { margin-top: 1.5em; }

label {
  color: var(--colour-grey);
  padding:
    var(--spacing-tight)
    var(--spacing-tight)
    var(--spacing-extra-tight)
    0;
}

@media screen and (min-width: 36em) {
  form > div:last-child { margin-top: 0; }

  label {
    width: 20%;
    float: left;
    text-align: right;
    border: 1px solid transparent;  /* to align label text with input text */
  }

  form > div > div {
    width: 80%;
    float: right;
  }
}

textarea {
  width: 100%;
  min-height: 7.5em;
  padding: var(--spacing-tight);
  border: 1px solid var(--colour-grey-muted);
  resize: vertical;
}

input {
  width: 15em;
  padding: var(--spacing-tight);
  border: 1px solid var(--colour-grey-muted);
}

button {
  font-weight: bold;
  padding: var(--spacing-tight);
  background-color: var(--colour-main);
  transition: background-color var(--transition-regular);
  color: var(--colour-white);
  text-align: center;
  border: 1px solid var(--colour-black-muted);
  user-select: none;
}

button:hover {
  text-decoration: underline;
  background-color: var(--colour-black);
  transition: background-color var(--transition-regular);
}

button:focus { text-decoration: underline; }

/* button:active {} */

input:valid, textarea:valid { color: var(--colour-black); }

input:invalid, textarea:invalid { color: var(--colour-red); }

label::after {
  content: '*';  /* all form fields are mandatory */
  color: var(--colour-red);
}

::placeholder { color: var(--colour-grey); }

/* ----------------------------------------------------------------------------
Images & Figures
---------------------------------------------------------------------------- */

.page-image, figure {
  margin: .5rem auto var(--spacing-regular-rem);
  display: block;
  position: relative;
  width: 100%;
}

.page-image::before, figure::before {
  content: '';
  display: block;
  /* Allocate space for image to prevent page reflow. */
  padding-bottom: calc(100% / (var(--aspect-ratio)));  /* defined in html */
}

.page-image::after, figure::after {
  /* Clearfix. */
  content: '';
  display: table;
  clear: both;
}

.page-image img, figure object {
  display: block;
  /* Put image into allocated padding area. */
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: auto;
  border-radius: var(--border-radius);
}

.page-image small {
  margin: var(--spacing-extra-tight) 0 0;
  font-family: var(--font-secondary);
  text-align: right;
  color: var(--colour-grey);
  float: right;
}

figure figcaption {
  margin: 0 0 var(--spacing-tight);
  font-family: var(--font-secondary);
  font-size: var(--font-size-small);
  line-height: var(--line-height-extra-tight);
  text-align: center;
}

/* ----------------------------------------------------------------------------
Icons
---------------------------------------------------------------------------- */

.content-icon {
  transition: color var(--transition-regular);
  user-select: none;
}

.content-icon:hover {
  color: var(--colour-black);
  transition: color var(--transition-regular);
}

/* .content-icon:active {} */

/* ----------------------------------------------------------------------------
Source Code
---------------------------------------------------------------------------- */

code, pre {
  font-family: var(--font-secondary);
  font-feature-settings: var(--font-common-settings), 'lnum';
}

code {
  color: var(--colour-brown);
  hyphens: manual;
}

pre {
  margin: 0;
  line-height: var(--line-height-tight);
  overflow: auto;
}

.highlight {
  margin: 0 0 var(--spacing-regular-em);
  font-size: var(--font-size-small);
}

.highlight > pre > code {
  /* Padding must be set here and not on parent pre in order for right padding
  to work on horizontal overflow across browsers. */
  padding: var(--spacing-regular-rem);
  display: inline-block;
}


input, textarea, strong > em, ins, figure, pre {
  background: url(/img/code-bg.png) local;
  border-radius: var(--border-radius);
}

/* ----------------------------------------------------------------------------
Horizontal Rule
---------------------------------------------------------------------------- */

hr {
  /* Hide rule. */
  display: block;
  margin: 0 0 var(--spacing-regular-em);
  padding: 0;
  height: 0;
  border-style: none;
  line-height: 1px;

  color: var(--colour-brown);
  text-align: center;
}

hr::after { content: '— § —'; }

/* ----------------------------------------------------------------------------
Links
---------------------------------------------------------------------------- */

a {
  color: var(--colour-main);
  text-decoration: none;
}

a[rel='external']::after { content: '↗'; }

a[href^='#']::after { content: '↓'; }

a.link-icon::before, a.link-icon::after { content: none; }

a:hover, a:focus { text-decoration: underline; }

/* a:active {} */

a.link-icon:hover, a.link-icon:focus { text-decoration: none; }

/* ----------------------------------------------------------------------------
Lists
---------------------------------------------------------------------------- */

ul, ol, dl { margin: 0 0 var(--spacing-regular-em); }

ul, ol { padding: 0 0 0 var(--spacing-extra-loose-em); }

li, li ul, li ol { margin: 0; }

/* ----------------------------------------------------------------------------
Unordered Lists
---------------------------------------------------------------------------- */

ul { list-style: none; }

ul li::before {
  content: '•';
  display: inline-block;
  margin-left: -.6em;
  width: .6em;
  font-feature-settings: var(--font-common-settings), 'case';
}

/* ----------------------------------------------------------------------------
Inline Lists
---------------------------------------------------------------------------- */

ul.inline {
  display: inline;
  margin: 0;
  padding: 0;
  list-style: none;
}

ul.inline li { display: inherit; }

ul.inline li::before { content: none; }

/* ----------------------------------------------------------------------------
Inline Definition Lists (Metadata)
---------------------------------------------------------------------------- */

dl.inline { line-height: var(--line-height-tight); }

dl.inline > div {
  display: inline;
  white-space: nowrap;
}

dl.inline > div.new-line { display: block; }  /* force line break */

dl.inline > div.wrap-text { white-space: normal; }

dl.inline dt {
  display: inline;
  font-weight: normal;
}

dl.inline dd {
  display: inline;
  margin: 0 var(--spacing-regular-em) 0 0;
}

/* ----------------------------------------------------------------------------
Footnotes
---------------------------------------------------------------------------- */

sup[id^='fnref:'] {
  position: inherit;
  vertical-align: inherit;
  font-size: inherit;
}

a.footnote::before, a.reversefootnote::before { content: '['; }

a.footnote::after, a.reversefootnote::after { content: ']'; }

.footnotes {
  margin: 0 0 var(--spacing-regular-em);
  font-size: var(--font-size-small);
}

.footnotes ol {
  list-style: none;
  counter-reset: footnote;
}

.footnotes li {
  margin: 0;
  counter-increment: footnote;
}

.footnotes p { margin-bottom: var(--spacing-tight); }

.footnotes p:first-child::before {
  content: counter(footnote);
  display: inline-block;
  margin-left: -.5em;
  width: .5em;
  color: var(--colour-brown);
  font-feature-settings: var(--font-common-settings), 'sups';
  font-weight: bold;
}

@media screen and (min-width: 36em), print {
  sup[id^='fnref:'] {
    font-feature-settings: var(--font-common-settings), 'sups';
  }

  a.footnote::before { content: ' '; }

  a.footnote::after { content: none; }
}

/* ----------------------------------------------------------------------------
Headings
---------------------------------------------------------------------------- */

h1, h2, h3, h4, h5, h6 {
  margin: var(--spacing-regular-rem) 0 .5rem;
  font-feature-settings: var(--font-common-settings),
    'dlig', 'swsh', 'onum', 'pnum';
  font-weight: normal;
}

h1 {
  margin-top: 0;  /* prevent excessive space above h1 in header layout */
  font-feature-settings: var(--font-common-settings),
    'dlig', 'swsh', 'onum', 'pnum', 'smcp';
  font-size: var(--font-size-head);
  line-height: var(--line-height-tight);
}

h2 {
  font-size: var(--font-size-subhead);
  line-height: var(--line-height-tight);
}

h3, h4, h5, h6 {
  font-size: 1em;
  font-weight: bold;
}

/* ----------------------------------------------------------------------------
Text Sections
---------------------------------------------------------------------------- */

main p {
  margin: 0 0 var(--spacing-regular-em);

  /* Hyphenation. */
  hyphens: auto;

  -ms-hyphenate-limit-chars: 6 3 2;
  -webkit-hyphenate-limit-before: 3;  /* legacy */
  -webkit-hyphenate-limit-after: 2;  /* legacy */

  -ms-hyphenate-limit-lines: 2;
  -webkit-hyphenate-limit-lines: 2;

  -ms-hyphenate-limit-last: always;
}

aside { margin: var(--spacing-regular-em) 0; }

article, section { margin: 0 0 var(--spacing-loose); }

article > header, article > footer { font-family: var(--font-secondary); }

address { text-align: center; }

p.drop-letter, .drop-letter > p:first-child { margin-top: 1.25em; }

p.drop-letter::first-letter, .drop-letter > p:first-child::first-letter {
  font-size: var(--font-size-display);
  line-height: 0;
  color: var(--colour-main);
  text-shadow:
    -1px -1px 0 var(--colour-black),
    1px -1px 0 var(--colour-black),
    -1px 1px 0 var(--colour-black),
    1px 1px 0 var(--colour-black);
}

/* ----------------------------------------------------------------------------
Abbreviations
---------------------------------------------------------------------------- */

abbr[title] {
  font-style: italic;
  cursor: help;
  border-bottom: none !important;
  text-decoration: none !important;
}

/* ----------------------------------------------------------------------------
Quotations
---------------------------------------------------------------------------- */

blockquote, q {
  quotes: '‘' '’' '“' '”';
  color: var(--colour-brown);
}

blockquote {
  margin: .8em 0;
  padding: 0 0 0 var(--spacing-regular-rem);
  border-left: .07em solid var(--colour-brown);
}

blockquote > p::before, q::before { content: open-quote; }

blockquote > p::after, q::after { content: close-quote; }

blockquote p { display: inline-block; }

blockquote p:last-child { margin-bottom: 0; }

cite { font-style: italic; }

/* ----------------------------------------------------------------------------
Text Spans
---------------------------------------------------------------------------- */

b, strong { font-weight: bold; }

i, em { font-style: italic; }

strong > em {
  display: inline-block;
  margin: 0;
  padding: var(--spacing-tight);
  font-weight: normal;
  font-style: normal;
  border: 1px solid var(--colour-grey-muted);
}

strong > em::before {
  content: '[n.b.] ';
  font-weight: bold;
  font-feature-settings: var(--font-common-settings), 'onum', 'pnum', 'smcp';
}

small {
  font-size: var(--font-size-small);
  line-height: var(--line-height-extra-tight);
}

ins {
  display: inline-block;
  margin: 0;
  padding: var(--spacing-tight);
  text-decoration: none;
  border: 1px solid var(--colour-grey-muted);
}

ins::before {
  content: '[update] ';
  font-weight: bold;
  font-feature-settings: var(--font-common-settings), 'onum', 'pnum', 'smcp';
}

/* del {} */
/* s {} */
/* mark {} */
/* u {} */

/* kbd {} */
/* samp {} */
/* var {} */

/* sub {} */
/* sup {} */

.main-muted { color: var(--colour-main-muted); }

.grey { color: var(--colour-grey); }

/* ----------------------------------------------------------------------------
Accessibility
---------------------------------------------------------------------------- */

.screenreader-only {
  margin: -1px;
  padding: 0;
  position: absolute;
  width: 1px;
  height: 1px;
  border: 0;
  clip: rect(0, 0, 0, 0);
  overflow: hidden;
}

/* ----------------------------------------------------------------------------
Printing
---------------------------------------------------------------------------- */

@media print {
  /* Do not print interactive content. */
  aside, nav, form, .page-image, .reversefootnote {
    display: none !important;
  }

  /* Remove link destination arrows. */
  a::after { content: none !important; }

  /* Print background images. */
  main { color-adjust: exact; }

  /* Set page margins. */
  @page :left { margin: 20mm 25mm 20mm 20mm; }
  @page :right { margin: 20mm 20mm 20mm 25mm; }

  /* Specify page breaks behaviour. */
  p, h2, h3, h4, h5, h6 { orphans: 3; widows: 3; }
  h2, h3, h4, h5, h6 { break-after: avoid-page; }
  figcaption { break-before: avoid-page; }
}
