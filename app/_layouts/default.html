<!DOCTYPE html>
<html
  lang="en-GB"
  itemscope itemtype="{{ page.schema }}"
  prefix="og: http://ogp.me/ns# {{ page.og_prefix }}">

  <head>
    <meta charset="utf-8">

    <!-- Security. -->
    <meta http-equiv="Content-Security-Policy" content="default-src https: data: 'unsafe-inline' wss:; form-action https:; block-all-mixed-content; base-uri 'self'; referrer origin-when-cross-origin">

    <!-- Mobile devices responsiveness. -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Page title. -->
    {% if page.is_home or page.layout == 'post' %}
    {% capture title %}{{ page.title | liquify | escape }}{% endcapture %}
    {% else %}
    {% capture title %}{{ page.title | liquify | escape }}—{{ site.title | escape }}{% endcapture %}
    {% endif %}
    <title>{{ title }}</title>
    <meta itemprop="name" content="{{ title }}">
    <meta property="og:title" content="{{ title }}">

    <!-- Page description. -->
    <meta name="description" content="{{ page.description | liquify | escape }}">
    <meta itemprop="description" content="{{ page.description | liquify | escape }}">
    <meta property="og:description" content="{{ page.description | liquify | escape }}">

    <!-- Page keywords. -->
    {% if page.keywords %}
    {% assign keywords = page.keywords | liquify | escape %}
    {% elsif page.tags %}
    <!-- Use tags as keywords with the help of jekyll-tagging plugin. -->
    {% assign keywords = page | keywords | escape %}
    {% endif %}
    {% if keywords %}
    <meta name="keywords" content="{{ keywords }}">
    <meta itemprop="keywords" content="{{ keywords }}">
    {% endif %}

    <!-- Page author. -->
    <meta name="author" content="{{ site.author | escape }}">
    {% if page.schema != 'http://schema.org/BlogPosting' %}
    <meta itemprop="author" content="{{ site.author | escape }}">
    {% endif %}
    <link type="text/plain" href="{{ site.baseurl }}/humans.txt" rel="author">

    <!-- Page image. -->
    {% if page.image %}
    {% capture page_image %}{{ site.url }}{{ site.baseurl }}{{ page.image.url }}{% endcapture %}
    <!-- For posts we define "ImageObject" instead of simple "Image". -->
    {% if page.schema != 'http://schema.org/BlogPosting' %}
    <link itemprop="image" href="{{ page_image }}">
    {% endif %}
    <meta property="og:image" content="{{ page_image }}">
    <meta property="og:image:type" content="{{ page.image.url | image_mime_type }}"/>
    <meta property="og:image:width" content="{{ page.image.url | image_width }}"/>
    <meta property="og:image:height" content="{{ page.image.url | image_height }}"/>
    {% endif %}

    <!-- Open Graph site metadata. -->
    <meta property="og:site_name" content="{{ site.name | escape }}">
    <meta property="og:type" content="{{ page.og_type }}">
    <meta property="og:locale" content="en_GB">

    <!-- Open Graph article metadata. -->
    {% if page.og_type == 'article' %}
    <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
    <meta property="article:modified_time" content="{{ page.path | modified_time | date_to_xmlschema }}">
    <meta property="article:author" content="{{ site.facebook.profile }}">
    <meta property="article:section" content="{{ site.topic | escape }}">
    {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag | escape }}">
    {% endfor %}
    {% endif %}

    <!-- Open Graph profile metadata. -->
    {% if page.og_type == 'profile' %}
    <meta property="fb:profile_id" content="{{ site.facebook.id }}">
    <meta property="profile:first_name" content="Pavel">
    <meta property="profile:last_name" content="Frolov">
    <meta property="profile:username" content="arkfps">
    <meta property="profile:gender" content="male">
    {% endif %}

    <!-- Twitter Cards. -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site:id" content="{{ site.twitter.site_id }}">
    <meta name="twitter:creator:id" content="{{ site.twitter.creator_id }}">

    <!-- Favicon. -->
    <link rel="apple-touch-icon" sizes="57x57" href="{{ site.baseurl }}/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="{{ site.baseurl }}/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ site.baseurl }}/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ site.baseurl }}/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ site.baseurl }}/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="{{ site.baseurl }}/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="{{ site.baseurl }}/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="{{ site.baseurl }}/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ site.baseurl }}/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="{{ site.baseurl }}/manifest.json">
    <link rel="mask-icon" href="{{ site.baseurl }}/safari-pinned-tab.svg" color="{{ site.theme_colour }}">
    <meta name="msapplication-TileColor" content="{{ site.theme_colour }}">
    <meta name="msapplication-TileImage" content="{{ site.baseurl }}/mstile-144x144.png">
    <meta name="theme-color" content="{{ site.theme_colour }}">

    <!-- Page canonical URL. -->
    {% if page.is_home %}
    {% capture canonical_url %}{{ site.url }}{{ site.baseurl }}{% endcapture %}
    {% else %}
    {% capture canonical_url %}{{ site.url }}{{ site.baseurl }}{{ page.url }}{% endcapture %}
    {% endif %}
    <link rel="canonical" href="{{ canonical_url }}">
    <link itemprop="url mainEntityOfPage" href="{{ canonical_url }}">
    <meta property="og:url" content="{{ canonical_url }}">

    <!-- Search engines indexing. -->
    {% if page.robots %}
    <meta name="robots" content="{{ page.robots }}">
    {% elsif paginator.previous_page %}
    <meta name="robots" content="noindex">
    {% endif %}

    <!-- Sitemap link for search engines. -->
    {% if page.is_home %}
    <link rel="sitemap" type="application/xml" title="Sitemap" href="{{ site.url }}{{ site.baseurl }}/sitemap.xml">
    {% endif %}

    <!-- Pagination hints for search engines. -->
    {% if paginator.previous_page_path %}
    <link rel="prev" href="{{ site.url }}{{ site.baseurl }}{{ paginator.previous_page_path }}">
    {% endif %}
    {% if paginator.next_page_path %}
    <link rel="next" href="{{ site.url }}{{ site.baseurl }}{{ paginator.next_page_path }}">
    {% endif %}

    <!-- Web feed autodiscovery. -->
    {% if page.is_home %}
    {% feed_meta %}
    {% endif %}

    <!-- Styles. -->
    <link href="{{ site.baseurl }}/css/app.css" rel="stylesheet">
  </head>

  <body>
    <aside class="sidebar container">
      <header>
        <h1>
          <a href="{{ site.baseurl }}/">
            <svg class="icon icon-balance-scale" role="img">
              <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-balance-scale"/>
            </svg><br>
            {{ site.title | escape }}
          </a>
        </h1>
        <p>
          {{ site.tagline | escape }}
        </p>
      </header>
      <section>
        <h2>
          <svg class="icon icon-tags" role="img">
            <title>Site Tags</title>
            <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-tags"/>
          </svg>
        </h2>
        <ul class="inline">
          {% assign tags = site.tags | keys | sort %}
          {% for tag in tags %}
          <li>
            <a href="{{ tag | tag_url }}">{{ tag | escape }}</a>{% if forloop.last == false %}&nbsp;‡{% endif %}
          </li>
          {% endfor %}
        </ul>
      </section>
      <nav>
        <h2 class="visuallyhidden">Site Navigation</h2>
        <ul class="inline">
          <li>
            {% assign title = 'Home' %}
            <a class="link-icon nav-icon" href="{{ site.baseurl }}/" title="{{ title }}">
              <svg class="icon icon-home" role="img">
                <title>{{ title }}</title>
                <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-home"/>
              </svg>
            </a>
          </li>
          <li>
            {% assign title = 'Archive' %}
            <a class="link-icon nav-icon" href="{{ site.baseurl }}/archive/" title="{{ title }}">
              <svg class="icon icon-list" role="img">
                <title>{{ title }}</title>
                <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-list"/>
              </svg>
            </a>
          </li>
          <li>
            {% assign title = 'News Feed' %}
            <a class="link-icon nav-icon" href="{{ site.baseurl }}/{{ site.feed.path }}" title="{{ title }}">
              <svg class="icon icon-feed" role="img">
                <title>{{ title }}</title>
                <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-feed"/>
              </svg>
            </a>
          </li>
          <li>
            {% assign title = 'Contact' %}
            <a class="link-icon nav-icon" href="{{ site.baseurl }}/contact/" title="{{ title }}">
              <svg class="icon icon-question" role="img">
                <title>{{ title }}</title>
                <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-question"/>
              </svg>
            </a>
          </li>
          <li>
            {% assign title = 'About' %}
            <a class="link-icon nav-icon" href="{{ site.baseurl }}/about/" rel="author" title="{{ title }}">
              <svg class="icon icon-info" role="img">
                <title>{{ title }}</title>
                <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-info"/>
              </svg>
            </a>
          </li>
        </ul>
      </nav>
      <hr>
      <footer>
        <p>
          <small class="white-muted">© {{ site.time | date: '%Y' }} {{ site.url | remove:'https://' }}</small>
        </p>
      </footer>
    </aside>
    <main class="content container">
      {{ content }}
    </main>

    <!-- Svgxuse polyfill (for loading external SVG in IE9+). -->
    <script src="{{ site.baseurl }}/js/svgxuse.js"></script>
  </body>
</html>
