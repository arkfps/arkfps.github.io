<!DOCTYPE html>
<html
  lang="en-GB"
  itemscope itemtype="{{ page.schema }}"
  prefix="og: http://ogp.me/ns# {{ page.og_prefix }}">

  <head>
    <meta charset="utf-8">

    <!-- Security. -->
    <meta http-equiv="Content-Security-Policy" content="default-src https: data: 'unsafe-inline' wss:; form-action https:; block-all-mixed-content; base-uri 'self'; referrer origin-when-cross-origin">

    <!--Mobile devices responsiveness. -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Page title. -->
    <title>{{ page.title | liquify }}</title>
    <meta itemprop="name" content="{{ page.title | liquify | escape }}">
    <meta property="og:title" content="{{ page.title | liquify | escape }}">

    <!-- Page description. -->
    <meta name="description" content="{{ page.description | liquify | escape }}">
    <meta itemprop="description" content="{{ page.description | liquify | escape }}">
    <meta property="og:description" content="{{ page.description | liquify | escape }}">

    <!-- Page keywords. -->
    {% if page.keywords %}
    <meta name="keywords" content="{{ page.keywords | liquify }}">
    <meta itemprop="keywords" content="{{ page.keywords | liquify }}">
    {% elsif page.tags %}
    <!-- Use tags as keywords with the help of jekyll-tagging plugin. -->
    <meta name="keywords" content="{{ page | keywords }}">
    <meta itemprop="keywords" content="{{ page | keywords }}">
    {% endif %}

    <!-- Page author. -->
    <meta name="author" content="{{ site.author }}">
    {% if page.schema != 'http://schema.org/BlogPosting' %}
    <meta itemprop="author" content="{{ site.author }}">
    {% endif %}
    <link type="text/plain" rel="author" href="{{ site.baseurl }}/humans.txt">

    <!-- Page image. -->
    {% if page.image %}
    {% capture page_image %}{{ site.url }}{{ site.baseurl }}{{ page.image.url }}{% endcapture %}
    <!-- For posts we define "ImageObject" instead of simple "Image". -->
    {% if page.schema != 'http://schema.org/BlogPosting' %}
    <link itemprop="image" href="{{ page_image }}">
    {% endif %}
    <meta property="og:image" content="{{ page_image }}">
    <meta property="og:image:type" content="{{ page.image.url | image_mime_type }}"/>
    <meta property="og:image:width" content="{{ page.image.url | image_width }}"/>
    <meta property="og:image:height" content="{{ page.image.url | image_height }}"/>
    {% endif %}

    <!-- Open Graph site metadata. -->
    <meta property="og:site_name" content="{{ site.name }}">
    <meta property="og:type" content="{{ page.og_type }}">
    <meta property="og:locale" content="en_GB">

    <!-- Open Graph article metadata. -->
    {% if page.og_type == 'article' %}
    <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
    <meta property="article:modified_time" content="{{ page.path | modified_time | date_to_xmlschema }}">
    <meta property="article:author" content="{{ site.facebook.profile }}">
    <meta property="article:section" content="{{ site.topic }}">
    {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag }}">
    {% endfor %}
    {% endif %}

    <!-- Open Graph profile metadata. -->
    {% if page.og_type == 'profile' %}
    <meta property="fb:profile_id" content="{{ site.facebook.id }}">
    <meta property="profile:first_name" content="Pavel">
    <meta property="profile:last_name" content="Frolov">
    <meta property="profile:username" content="arkfps">
    <meta property="profile:gender" content="male">
    {% endif %}

    <!-- Twitter Cards. -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site:id" content="{{ site.twitter.site_id }}">
    <meta name="twitter:creator:id" content="{{ site.twitter.creator_id }}">

    <!-- Favicon. -->
    <link rel="apple-touch-icon" sizes="57x57" href="{{ site.baseurl }}/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="{{ site.baseurl }}/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ site.baseurl }}/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ site.baseurl }}/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ site.baseurl }}/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="{{ site.baseurl }}/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="{{ site.baseurl }}/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="{{ site.baseurl }}/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ site.baseurl }}/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="{{ site.baseurl }}/manifest.json">
    <link rel="mask-icon" href="{{ site.baseurl }}/safari-pinned-tab.svg" color="#ac4142">
    <meta name="msapplication-TileColor" content="#ac4142">
    <meta name="msapplication-TileImage" content="{{ site.baseurl }}/mstile-144x144.png">
    <meta name="theme-color" content="#ac4142">

    <!-- Canonical page URL. -->
    {% if page.is_home %}
    <link rel="canonical" href="{{ site.url }}{{ site.baseurl }}">
    <link itemprop="url mainEntityOfPage" href="{{ site.url }}{{ site.baseurl }}">
    <meta property="og:url" content="{{ site.url }}{{ site.baseurl }}">
    {% else %}
    <link rel="canonical" href="{{ site.url }}{{ site.baseurl }}{{ page.url }}">
    <link itemprop="url mainEntityOfPage" href="{{ site.url }}{{ site.baseurl }}{{ page.url }}">
    <meta property="og:url" content="{{ site.url }}{{ site.baseurl }}{{ page.url }}">
    {% endif %}

    <!-- Search engines indexing. -->
    {% if page.robots %}
    <meta name="robots" content="{{ page.robots }}">
    {% endif %}

    <!-- Sitemap link for search engines. -->
    {% if page.is_home %}
    <link rel="sitemap" type="application/xml" title="Sitemap" href="{{ site.url }}{{ site.baseurl }}/sitemap.xml">
    {% endif %}

    <!-- Pagination hints for search engines. -->
    {% if paginator.previous_page_path %}
    <link rel="prev" href="{{ site.url }}{{ site.baseurl }}{{ paginator.previous_page_path }}">
    {% endif %}
    {% if paginator.next_page_path %}
    <link rel="next" href="{{ site.url }}{{ site.baseurl }}{{ paginator.next_page_path }}">
    {% endif %}

    <!-- Web feed link. -->
    {% if page.is_home %}
    {% feed_meta %}
    {% endif %}

    <!-- Styles. -->
    <link href="{{ site.baseurl }}/css/app.css" rel="stylesheet">
  </head>

  <body>
    <aside class="container">
      <p class="site-title">
        <a class="nav-icon" href="{{ site.baseurl }}/">
          <svg class="icon icon-balance-scale">
            <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-balance-scale">
              <title>Balance Scale</title>
            </use>
          </svg>
        </a>
        <a href="{{ site.baseurl }}/">{{ site.title }}</a>
      </p>
      <p>{{ site.tagline }}</p>
      <br>
      <p>
        <svg class="icon icon-tags">
          <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-tags">
            <title>Tags</title>
          </use>
        </svg>
        {{ site | tag_cloud | replace:'</a> <a','</a> &middot; <a' }}</p>
      <br>
      <nav>
        <a class="link-icon nav-icon" href="{{ site.baseurl }}/archive/">
          <svg class="icon icon-list">
            <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-list">
              <title>Archive</title>
            </use>
          </svg>
        </a>
        &nbsp;
        <a class="link-icon nav-icon" href="{{ site.baseurl }}/{{ site.feed.path }}">
          <svg class="icon icon-feed">
            <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-feed">
              <title>News Feed</title>
            </use>
          </svg>
        </a>
        &nbsp;
        <a class="link-icon nav-icon" href="{{ site.baseurl }}/contact/">
          <svg class="icon icon-question">
            <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-question">
              <title>Contact</title>
            </use>
          </svg>
        </a>
        &nbsp;
        <a class="link-icon nav-icon" href="{{ site.baseurl }}/about/">
          <svg class="icon icon-info">
            <use xlink:href="{{ site.baseurl }}/svg/symbol-defs.svgz#icon-info">
              <title>About</title>
            </use>
          </svg>
        </a>
      </nav>
      <hr class="muted-light">
      <p class="muted-light"><small>&copy; {{ site.time | date: '%Y' }} {{ site.url | remove:'https://' }}</small></p>
    </aside>
    <main class="content container">
      {{ content }}
    </main>

    <!-- svgxuse polyfill (for loading external SVG in IE9+). -->
    <script src="{{ site.baseurl }}/js/svgxuse.js"></script>

    <!-- Google Analytics. -->
    {% if jekyll.environment == "production" %}
    <script>
      /* jshint ignore:start */
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='https://www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','{{ site.google_analytics_id }}','auto');ga('send','pageview');
      /* jshint ignore:end */
    </script>
    {% endif %}
  </body>
</html>
