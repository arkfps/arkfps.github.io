<!DOCTYPE html>
<html
  lang="en"
  itemscope itemtype="{{ page.schema }}"
  prefix="og: http://ogp.me/ns# {{ page.og_prefix }}">
  
  <head>
    <meta charset="utf-8">
    
    <!-- Security. -->
    <meta http-equiv="Content-Security-Policy" content="
      {% if jekyll.environment == 'development' %}
      default-src http: https: data: 'unsafe-inline';
      {% else %}
      default-src https: data: 'unsafe-inline';
      {% endif %}
      form-action https:;
      block-all-mixed-content;
      reflected-xss block;
      base-uri 'self';
      referrer origin">
    
    <!--Mobile devices responsiveness. -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Page title. -->
    <title>{{ page.title | liquify }}</title>
    <meta property="og:title" itemprop="name" content="{{ page.title | liquify }}">
    
    <!-- Page description. -->
    {% if page.description %}
    <meta name="description" property="og:description" itemprop="description" content="{{ page.description | liquify }}">
    {% elsif page.excerpt %}
    <meta name="description" property="og:description" itemprop="description" content="{{ page.excerpt | strip_html }}">
    {% endif %}
    
    <!-- Page keywords. -->
    {% if page.keywords %}
    <meta name="keywords" itemprop="keywords" content="{{ page.keywords | liquify }}">
    {% elsif page.tags %}
    <!-- Use tags as keywords with the help of jekyll-tagging plugin. -->
    <meta name="keywords" itemprop="keywords" content="{{ page | keywords }}">
    {% endif %}
    
    <!-- Page author. -->
    <meta name="author" itemprop="author" content="{{ site.author }}">
    <link type="text/plain" rel="author" href="{{ site.baseurl }}/humans.txt">
    
    <!-- Page image. -->
    {% if page.image %}
    <link itemprop="image" href="{{ site.url }}{{ site.baseurl }}{{ page.image.url }}">
    <meta property="og:image" content="{{ site.url }}{{ site.baseurl }}{{ page.image.url }}">
    {% endif %}
    
    <!-- Additional Open Graph metadata. -->
    <meta property="og:site_name" content="{{ site.name }}">
    <meta property="og:type" content="{{ page.og_type }}">

    {% if page.og_type == 'article' %}
    <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
    <meta property="article:author" content="{{ site.facebook.profile }}">
    <meta property="article:section" content="{{ site.topic }}">
    {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag }}">
    {% endfor %}
    {% endif %}
    
    {% if page.og_type == 'profile' %}
    <meta property="fb:profile_id" content="{{ site.facebook.id }}">
    <meta property="profile:first_name" content="Pavel">
    <meta property="profile:last_name" content="Frolov">
    <meta property="profile:username" content="arkfps">
    <meta property="profile:gender" content="male">
    {% endif %}
    
    <!-- Twitter Cards. -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site:id" content="{{ site.twitter.site_id }}">
    <meta name="twitter:creator:id" content="{{ site.twitter.creator_id }}">
    
    <!-- Favicon. -->
    <link rel="apple-touch-icon" sizes="57x57" href="{{ site.baseurl }}/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="{{ site.baseurl }}/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ site.baseurl }}/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ site.baseurl }}/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ site.baseurl }}/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="{{ site.baseurl }}/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="{{ site.baseurl }}/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="{{ site.baseurl }}/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ site.baseurl }}/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="{{ site.baseurl }}/manifest.json">
    <link rel="mask-icon" href="{{ site.baseurl }}/safari-pinned-tab.svg" color="#ac4142">
    <meta name="msapplication-TileColor" content="#ac4142">
    <meta name="msapplication-TileImage" content="{{ site.baseurl }}/mstile-144x144.png">
    <meta name="theme-color" content="#ac4142">

    <!-- Canonical page URL for search engines. -->
    {% if page.is_home %}
    <link rel="canonical" itemprop="url" href="{{ site.url }}{{ site.baseurl }}">
    <meta property="og:url" content="{{ site.url }}{{ site.baseurl }}">
    {% else %}
    <link rel="canonical" itemprop="url" href="{{ site.url }}{{ site.baseurl }}{{ page.url }}">
    <meta property="og:url" content="{{ site.url }}{{ site.baseurl }}{{ page.url }}">
    {% endif %}
    
    <!-- Search engines indexing. -->
    {% if page.robots %}
    <meta name="robots" content="{{ page.robots }}">
    {% endif %}

    <!-- Sitemap link for search engines. -->
    {% if page.is_home %}
    <link rel="sitemap" type="application/xml" title="Sitemap" href="{{ site.url }}{{ site.baseurl }}/sitemap.xml">
    {% endif %}
    
    <!-- Pagination hints for search engines. -->
    {% if paginator.previous_page_path %}
    <link rel="prev" href="{{ site.url }}{{ site.baseurl }}{{ paginator.previous_page_path }}">
    {% endif %}
    {% if paginator.next_page_path %}
    <link rel="next" href="{{ site.url }}{{ site.baseurl }}{{ paginator.next_page_path }}">
    {% endif %}
    
    <!-- Web feed link. -->
    {% if page.is_home %}
    {% feed_meta %}
    {% endif %}
    
    <!-- Fonts. -->
    <link href='https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|PT+Serif|PT+Mono'
          rel='stylesheet'>
          <!-- Could not use SRI here as generated stylesheet is browser-specific. -->
    
    <!-- Icons. -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          integrity="sha256-k2/8zcNbxVIh5mnQ52A0r3a6jAgMGxFJFE2707UxGCk= sha512-ZV9KawG2Legkwp3nAlxLIVFudTauWuBpC10uEafMHYL0Sarrz5A7G79kXh5+5+woxQ5HM559XX2UZjMJ36Wplg=="
          crossorigin="anonymous">
    
    <!-- Normalize.css -->
    <link href="{{ site.baseurl }}/css/normalize.css" rel="stylesheet">
          
    <!-- Pygments syntax highlighting. -->
    <link href="{{ site.baseurl }}/css/syntax.css" rel="stylesheet">
                                   
    <!-- Custom stylesheet. -->
    <link href="{{ site.baseurl }}/css/app.css" rel="stylesheet">
  </head>
  
  <body>
    <aside class="container">
      <h1>
        <a href="{{ site.baseurl }}/" title="Home"><i class="fa fa-balance-scale"></i><br>{{ site.title }}</a>
      </h1>
      <p class="italic">{{ site.tagline }}</p>
      <br>
      <p class="bold"><i class="fa fa-tags" title="Tag Cloud"></i> {{ site | tag_cloud | replace:'</a> <a','</a> &middot; <a' }}</p>
      <br>
      <nav>
        <a class="link-icon" href="{{ site.baseurl }}/archive">
          <span>
            <i class="fa fa-list fa-2x nav-icon" title="Blog Archive"></i>
          </span>
        </a>
        &nbsp;&nbsp;
        <a class="link-icon" href="{{ site.baseurl }}/{{ site.feed.path }}">
          <span>
            <i class="fa fa-feed fa-2x nav-icon" title="News Feed"></i>
          </span>
        </a>
        &nbsp;
        <a class="link-icon" href="{{ site.baseurl }}/contact">
          <span>
            <i class="fa fa-phone fa-2x nav-icon" title="Contact"></i>
          </span>
        </a>
        &nbsp;
        <a class="link-icon" href="{{ site.baseurl }}/about">
          <span>
            <i class="fa fa-info fa-2x nav-icon" title="About"></i>
          </span>
        </a>
      </nav>
      <hr class="muted-light">
      <p class="smaller muted-light">&copy; {{ site.time | date: '%Y' }} {{ site.url | remove:'https://' }}</p>
    </aside>
    <div class="content container">
      {{ content }}
    </div>
      
    <!-- Google Analytics. -->
    {% if jekyll.environment == "production" %}
    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='https://www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','{{ site.google_analytics_id }}','auto');ga('send','pageview');
    </script>
    {% endif %}
  </body>
</html>
